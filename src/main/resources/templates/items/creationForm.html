<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout(~{::title}, ~{::body})}">
<head>
    <title>商品登録 | ECサイト アプリケーション</title>
    <link rel="stylesheet" th:href="@{css/style.css}" />
</head>
<body>
    <h1 class="mt-3">商品登録</h1>
    <a href="./list.html" th:href="@{/items?limit=10&offset=0}">商品一覧に戻る</a>
    <form action="#" th:action="@{/items?limit=10&offset=0}" th:method="post"
          enctype="multipart/form-data" th:object="${itemForms}">
        <div class="mt-3">
            <label for="itemInput" class="form-label" >商品名</label>
            <input type="text" id="itemInput" th:field="*{itemName}" class="form-control"
                   th:classappend="${#fields.hasErrors('itemName')} ? is-invalid">
            <p class="invalid-feedback" th:if="${#fields.hasErrors('itemName')}" th:errors="*{itemName}">(error)</p>
        </div>
        <div class="mt-3">
            <label for="descriptionInput" class="form-label">商品概要</label>
            <textarea id="descriptionInput" row="10" th:field="*{description}" class="form-control"
                      th:classappend="${#fields.hasErrors('description')} ? is-invalid"></textarea>
            <p class="invalid-feedback" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">(error)</p>
        </div>
        <div class="mt-3">
            <div><label  class="form-label">商品画像</label></div>
            <div class="imagePreview"></div>
            <div class="input-group mt-2">
                <label class="input-group-btn">
                    <span class="btn btn-secondary">
                        ファイルを選択
                        <input id="itemImageInput" class="uploadFile" type="file" name="itemForms"
                               th:field="*{itemImage}" upload_fileclass="form-control" style="display:none">
                    </span>
                </label>
                <input type="text" th:field="*{fileName}" class="form-control" readonly=""
                       th:classappend="${#fields.hasErrors('itemImage')} ? is-invalid">
                <p class="invalid-feedback" th:if="${#fields.hasErrors('itemImage')}" th:errors="*{itemImage}"></p>
            </div>
        </div>
        <div class="mt-3">
            <label for="companyInput" class="form-label">販売会社</label>
            <textarea id="companyInput" row="10" th:field="*{company}" class="form-control"
                      th:classappend="${#fields.hasErrors('company')} ? is-invalid"></textarea>
            <p class="invalid-feedback" th:if="${#fields.hasErrors('company')}" th:errors="*{company}"></p>
        </div>
        <div class="mt-3">
            <label for="priceInput" class="form-label">販売価格（円）</label>
            <input type="text" id="priceInput" row="10" th:field="*{price}">
        </div>
        <div class="mt-3">
            <label for="stockInput" class="form-label">在庫数（個）</label>
            <input type="text" id="stockInput" row="10" th:field="*{stock}">
        </div>
        <div class="mt-3">
            <button type="submit" class="btn btn-primary" >登録</button>
            <a href="./list.html" th:href="@{/items?limit=10&offset=0}" class="btn btn-secondary">キャンセル</a>
        </div>
    </form>
</body>
</html>