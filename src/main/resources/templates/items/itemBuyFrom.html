<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout(~{::title}, ~{::body})}">
<head>
    <title>商品購入 | ECサイト アプリケーション</title>
</head>
<body>
<h1 class="mt-3">商品購入</h1>
<a href="./list.html" th:href="@{/items?limit=10&offset=0}">商品一覧に戻る</a>
<form action="#" th:action="@{/items/{itemId}(itemId=${item.id})}"
      th:method="put"
      enctype="multipart/form-data"
      th:object="${item}">
    <div class="mt-3">
        <label class="form-label" >商品名</label>
        <label th:text="${item.itemName}"></label>
    </div>
    <div class="mt-3">
        <label class="form-label">商品概要</label>
        <label class="form-label" th:text="${item.description}"></label>
    </div>
    <div class="mt-3">
        <div><label  class="form-label">商品画像</label></div>
        <div class="imagePreview">
            <img th:if="${item.itemImage}" th:src=@{'data:image/png;base64,'+${item.itemImage}} style="width: 180px;height: 180px;" >
        </div>
    <div class="mt-3">
        <label class="form-label">販売会社</label>
        <label class="form-label" th:text="${item.company}"></label>
    </div>
    <div class="mt-3">
        <label class="form-label">販売価格（円）</label>
        <label class="form-label" th:text="${item.price}"></label>

    </div>
    <div class="mt-3">
        <label class="form-label">在庫数（個）</label>
        <input type="text" id="stockInput" row="10" th:field="*{stock}">
    </div>
    <div class="mt-3">
        <button type="submit" class="btn btn-primary">購入</button>
        <a href="./list.html" th:href="@{/items?limit=10&offset=0}" class="btn btn-secondary">キャンセル</a>
    </div>
</form>
</body>
</html>