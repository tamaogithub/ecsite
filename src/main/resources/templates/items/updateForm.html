<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout(~{::title}, ~{::body})}">
<head>
    <title>商品編集 | ECサイト アプリケーション</title>
</head>
<body>
    <h1 class="mt-3">商品編集</h1>
    <a href="./list.html" th:href="@{/items?limit=10&offset=0}">商品一覧に戻る</a>
    <form action="#"
          th:action="@{/items/{itemId}(itemId=${item.id})}"
          th:method="put"
          enctype="multipart/form-data"
          th:object="${item}">
        <div class="mt-3">
            <label for="itemInput" class="form-label" >商品名</label>
            <input type="text" id="itemInput" th:field="*{itemName}" class="form-control"
                   th:classappend="${#fields.hasErrors('itemName')} ? is-invalid">
            <p class="invalid-feedback" th:if="${#fields.hasErrors('itemName')}" th:errors="*{itemName}"></p>
        </div>
        <div class="mt-3">
            <label for="descriptionInput" class="form-label">商品概要</label>
            <textarea id="descriptionInput" row="10" th:field="*{description}" class="form-control"
                      th:classappend="${#fields.hasErrors('description')} ? is-invalid"></textarea>
            <p class="invalid-feedback" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></p>
        </div>
        <label  class="form-label">商品画像</label>
        <input id="itemImageInput" type="file" name="multipartFile"
               upload_fileclass="form-control" th:field="*{itemImage}">
        <div class="mt-3">
            <label for="companyInput" class="form-label">販売会社</label>
            <textarea id="companyInput" row="10" th:field="*{company}" class="form-control"
                      th:classappend="${#fields.hasErrors('company')} ? is-invalid"></textarea>
            <p class="invalid-feedback" th:if="${#fields.hasErrors('company')}" th:errors="*{company}"></p>
        </div>
        <div class="mt-3">
            <label for="priceInput" class="form-label">販売価格（円）</label>
            <input type="text" id="priceInput" row="10" th:field="*{price}">
        </div>
        <div class="mt-3">
            <label for="stockInput" class="form-label">在庫数（個）</label>
            <input type="text" id="stockInput" row="10" th:field="*{stock}">
        </div>
    <div class="mt-3">
        <button type="submit" class="btn btn-primary">編集</button>
        <a href="./list.html" th:href="@{/items?limit=10&offset=0}" class="btn btn-secondary">キャンセル</a>
    </div>
    </form>
</body>
</html>